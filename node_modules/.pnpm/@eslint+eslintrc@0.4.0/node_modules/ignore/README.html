<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>JCC Blog</title><meta name="description" content="JCC's Blog"><meta name="keywords" content="blog, web, mobile-friendly, static-page, html5, github-pages"><meta name="author" content="John Cyrill Corsanes"><meta property="og:image" content="https://jcchikikomori.github.io/portfolio/img/jcc_logo.jpg"><meta property="og:url" content="https://jcchikikomori.github.io/blog"><meta property="og:site_name" content="JCC Blog"><meta property="og:description" content="JCC's Blog"><meta name="twitter:image" content="https://jcchikikomori.github.io/portfolio/img/jcc_logo.jpg"><meta name="twitter:url" content="https://jcchikikomori.github.io/blog"><meta name="twitter:card" content="blog"><!--if lt IE 9script(src='https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js'
  integrity='sha512-UDJtJXfzfsiPPgnI5S1000FPLBHMhvzAMX15I+qG2E2OAzC9P1JzUwJOfnypXiOH7MRPaqzhPbBGDNNj7zBfoA==' crossorigin='anonymous')
script(src='https://cdnjs.cloudflare.com/ajax/libs/respond.js/1.4.2/respond.min.js'
  integrity='sha512-qWVvreMuH9i0DrugcOtifxdtZVBBL0X75r9YweXsdCHtXUidlctw7NXg5KVP3ITPtqZ2S575A0wFkvgS2anqSA==' crossorigin='anonymous')--><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.9.2/css/bulma.min.css" integrity="sha512-byErQdWdTqREz6DLAA9pCnLbdoGGhXfU6gm1c8bkf7F51JVmUBlayGe2A31VpXWQP+eiJ3ilTAZHCR3vmMyybA==" crossorigin="anonymous" referrerpolicy="no-referrer"><link rel="stylesheet" href="/blog/assets/scss/main.css"></head><body><div class="loading"></div><nav role="navigation" aria-label="main navigation" class="navbar"><div class="container"><div class="navbar-brand"><a href="/blog/" class="navbar-item"><div height="28" class="logo"></div></a><a role="button" aria-label="menu" aria-expanded="false" data-target="navbarBasicExample" class="navbar-burger"><span aria-hidden="true"></span><span aria-hidden="true"></span><span aria-hidden="true"></span></a></div><div id="navbarBasicExample" class="navbar-menu"><div class="navbar-start"><a href="/blog/" class="navbar-item">Home</a><a href="/blog/articles" class="navbar-item">Articles</a></div><div class="navbar-end"><a href="/blog/about" class="navbar-item">About</a></div></div></div></nav><div class="container is-fullhd"><section class="-maintenance hero is-warning"><div class="hero-body"><h1 class="title is-1">Hello!</h1><h2 class="subtitle is-2">This Blog is currently under development.</h2></div></section></div><div class="container"><div class="columns m-0"><div class="column"><div class="columns"><div class="column"><section class="section"><div class="container article-container is-full-hd"><div class="content article-content"><h1>Welcome!</h1><p>JCC's Blog</p><table><thead>
  <tr>
    <th>Linux</th>
    <th>OS X</th>
    <th>Windows</th>
    <th>Coverage</th>
    <th>Downloads</th>
  </tr>
</thead><tbody><tr>
  <td colspan="2" align="center">
    <a href="https://travis-ci.org/kaelzhang/node-ignore">
    <img
      src="https://travis-ci.org/kaelzhang/node-ignore.svg?branch=master"
      alt="Build Status" /></a>
  </td>
  <td align="center">
    <a href="https://ci.appveyor.com/project/kaelzhang/node-ignore">
    <img
      src="https://ci.appveyor.com/api/projects/status/github/kaelzhang/node-ignore?branch=master&svg=true"
      alt="Windows Build Status" /></a>
  </td>
  <td align="center">
    <a href="https://codecov.io/gh/kaelzhang/node-ignore">
    <img
      src="https://codecov.io/gh/kaelzhang/node-ignore/branch/master/graph/badge.svg"
      alt="Coverage Status" /></a>
  </td>
  <td align="center">
    <a href="https://www.npmjs.org/package/ignore">
    <img
      src="http://img.shields.io/npm/dm/ignore.svg"
      alt="npm module downloads per month" /></a>
  </td>
</tr></tbody></table>

<h1>ignore</h1><p><code>ignore</code> is a manager, filter and parser which implemented in pure JavaScript according to the .gitignore <a href="http://git-scm.com/docs/gitignore">spec</a>.</p>
<p>Pay attention that <a href="https://www.npmjs.org/package/minimatch"><code>minimatch</code></a> does not work in the gitignore way. To filter filenames according to .gitignore file, I recommend this module.</p>
<h5>Tested on</h5><ul>
<li>Linux + Node: <code>0.8</code> - <code>7.x</code></li>
<li>Windows + Node: <code>0.10</code> - <code>7.x</code>, node &lt; <code>0.10</code> is not tested due to the lack of support of appveyor.</li>
</ul>
<p>Actually, <code>ignore</code> does not rely on any versions of node specially.</p>
<p>Since <code>4.0.0</code>, ignore will no longer support <code>node &lt; 6</code> by default, to use in node &lt; 6, <code>require(&#39;ignore/legacy&#39;)</code>. For details, see <a href="https://github.com/kaelzhang/node-ignore/blob/master/CHANGELOG.md">CHANGELOG</a>.</p>
<h2>Table Of Main Contents</h2><ul>
<li><a href="#usage">Usage</a></li>
<li><a href="#pathname-conventions"><code>Pathname</code> Conventions</a></li>
<li><a href="#upgrade-2x---3x">Guide for 2.x -&gt; 3.x</a></li>
<li><a href="#upgrade-3x---4x">Guide for 3.x -&gt; 4.x</a></li>
<li>See Also:<ul>
<li><a href="https://www.npmjs.com/package/glob-gitignore"><code>glob-gitignore</code></a> matches files using patterns and filters them according to gitignore rules.</li>
</ul>
</li>
</ul>
<h2>Usage</h2><pre><code class="language-js">import ignore from &#39;ignore&#39;
const ig = ignore().add([&#39;.abc/*&#39;, &#39;!.abc/d/&#39;])
</code></pre>
<h3>Filter the given paths</h3><pre><code class="language-js">const paths = [
  &#39;.abc/a.js&#39;,    // filtered out
  &#39;.abc/d/e.js&#39;   // included
]

ig.filter(paths)        // [&#39;.abc/d/e.js&#39;]
ig.ignores(&#39;.abc/a.js&#39;) // true
</code></pre>
<h3>As the filter function</h3><pre><code class="language-js">paths.filter(ig.createFilter()); // [&#39;.abc/d/e.js&#39;]
</code></pre>
<h3>Win32 paths will be handled</h3><pre><code class="language-js">ig.filter([&#39;.abc\\a.js&#39;, &#39;.abc\\d\\e.js&#39;])
// if the code above runs on windows, the result will be
// [&#39;.abc\\d\\e.js&#39;]
</code></pre>
<h2>Why another ignore?</h2><ul>
<li><p><code>ignore</code> is a standalone module, and is much simpler so that it could easy work with other programs, unlike <a href="https://npmjs.org/~isaacs">isaacs</a>&#39;s <a href="https://npmjs.org/package/fstream-ignore">fstream-ignore</a> which must work with the modules of the fstream family.</p>
</li>
<li><p><code>ignore</code> only contains utility methods to filter paths according to the specified ignore rules, so</p>
<ul>
<li><code>ignore</code> never try to find out ignore rules by traversing directories or fetching from git configurations.</li>
<li><code>ignore</code> don&#39;t cares about sub-modules of git projects.</li>
</ul>
</li>
<li><p>Exactly according to <a href="http://git-scm.com/docs/gitignore">gitignore man page</a>, fixes some known matching issues of fstream-ignore, such as:</p>
<ul>
<li>&#39;<code>/*.js</code>&#39; should only match &#39;<code>a.js</code>&#39;, but not &#39;<code>abc/a.js</code>&#39;.</li>
<li>&#39;<code>**/foo</code>&#39; should match &#39;<code>foo</code>&#39; anywhere.</li>
<li>Prevent re-including a file if a parent directory of that file is excluded.</li>
<li>Handle trailing whitespaces:<ul>
<li><code>&#39;a &#39;</code>(one space) should not match <code>&#39;a  &#39;</code>(two spaces).</li>
<li><code>&#39;a \ &#39;</code> matches <code>&#39;a  &#39;</code></li>
</ul>
</li>
<li>All test cases are verified with the result of <code>git check-ignore</code>.</li>
</ul>
</li>
</ul>
<h1>Methods</h1><h2>.add(pattern: string | Ignore): this</h2><h2>.add(patterns: Array&lt;string | Ignore&gt;): this</h2><ul>
<li><strong>pattern</strong> <code>String | Ignore</code> An ignore pattern string, or the <code>Ignore</code> instance</li>
<li><strong>patterns</strong> <code>Array&lt;String | Ignore&gt;</code> Array of ignore patterns.</li>
</ul>
<p>Adds a rule or several rules to the current manager.</p>
<p>Returns <code>this</code></p>
<p>Notice that a line starting with <code>&#39;#&#39;</code>(hash) is treated as a comment. Put a backslash (<code>&#39;\&#39;</code>) in front of the first hash for patterns that begin with a hash, if you want to ignore a file with a hash at the beginning of the filename.</p>
<pre><code class="language-js">ignore().add(&#39;#abc&#39;).ignores(&#39;#abc&#39;)    // false
ignore().add(&#39;\#abc&#39;).ignores(&#39;#abc&#39;)   // true
</code></pre>
<p><code>pattern</code> could either be a line of ignore pattern or a string of multiple ignore patterns, which means we could just <code>ignore().add()</code> the content of a ignore file:</p>
<pre><code class="language-js">ignore()
.add(fs.readFileSync(filenameOfGitignore).toString())
.filter(filenames)
</code></pre>
<p><code>pattern</code> could also be an <code>ignore</code> instance, so that we could easily inherit the rules of another <code>Ignore</code> instance.</p>
<h2><strike>.addIgnoreFile(path)</strike></h2><p>REMOVED in <code>3.x</code> for now.</p>
<p>To upgrade <code>ignore@2.x</code> up to <code>3.x</code>, use</p>
<pre><code class="language-js">import fs from &#39;fs&#39;

if (fs.existsSync(filename)) {
  ignore().add(fs.readFileSync(filename).toString())
}
</code></pre>
<p>instead.</p>
<h2>.filter(paths: Array<Pathname>): Array<Pathname></h2><pre><code class="language-ts">type Pathname = string
</code></pre>
<p>Filters the given array of pathnames, and returns the filtered array.</p>
<ul>
<li><strong>paths</strong> <code>Array.&lt;Pathname&gt;</code> The array of <code>pathname</code>s to be filtered.</li>
</ul>
<h3><code>Pathname</code> Conventions:</h3><h4>1. <code>Pathname</code> should be a <code>path.relative()</code>d pathname</h4><p><code>Pathname</code> should be a string that have been <code>path.join()</code>ed, or the return value of <code>path.relative()</code> to the current directory.</p>
<pre><code class="language-js">// WRONG
ig.ignores(&#39;./abc&#39;)

// WRONG, for it will never happen.
// If the gitignore rule locates at the root directory,
// `&#39;/abc&#39;` should be changed to `&#39;abc&#39;`.
// ```
// path.relative(&#39;/&#39;, &#39;/abc&#39;)  -&gt; &#39;abc&#39;
// ```
ig.ignores(&#39;/abc&#39;)

// Right
ig.ignores(&#39;abc&#39;)

// Right
ig.ignores(path.join(&#39;./abc&#39;))  // path.join(&#39;./abc&#39;) -&gt; &#39;abc&#39;
</code></pre>
<p>In other words, each <code>Pathname</code> here should be a relative path to the directory of the gitignore rules.</p>
<p>Suppose the dir structure is:</p>
<pre><code>/path/to/your/repo
    |-- a
    |   |-- a.js
    |
    |-- .b
    |
    |-- .c
         |-- .DS_store
</code></pre>
<p>Then the <code>paths</code> might be like this:</p>
<pre><code class="language-js">[
  &#39;a/a.js&#39;
  &#39;.b&#39;,
  &#39;.c/.DS_store&#39;
]
</code></pre>
<p>Usually, you could use <a href="http://npmjs.org/package/glob"><code>glob</code></a> with <code>option.mark = true</code> to fetch the structure of the current directory:</p>
<pre><code class="language-js">import glob from &#39;glob&#39;

glob(&#39;**&#39;, {
  // Adds a / character to directory matches.
  mark: true
}, (err, files) =&gt; {
  if (err) {
    return console.error(err)
  }

  let filtered = ignore().add(patterns).filter(files)
  console.log(filtered)
})
</code></pre>
<h4>2. filenames and dirnames</h4><p><code>node-ignore</code> does NO <code>fs.stat</code> during path matching, so for the example below:</p>
<pre><code class="language-js">ig.add(&#39;config/&#39;)

// `ig` does NOT know if &#39;config&#39; is a normal file, directory or something
ig.ignores(&#39;config&#39;)    // And it returns `false`

ig.ignores(&#39;config/&#39;)   // returns `true`
</code></pre>
<p>Specially for people who develop some library based on <code>node-ignore</code>, it is important to understand that.</p>
<h2>.ignores(pathname: Pathname): boolean</h2><blockquote>
<p>new in 3.2.0</p>
</blockquote>
<p>Returns <code>Boolean</code> whether <code>pathname</code> should be ignored.</p>
<pre><code class="language-js">ig.ignores(&#39;.abc/a.js&#39;)    // true
</code></pre>
<h2>.createFilter()</h2><p>Creates a filter function which could filter an array of paths with <code>Array.prototype.filter</code>.</p>
<p>Returns <code>function(path)</code> the filter function.</p>
<h2><code>options.ignorecase</code> since 4.0.0</h2><p>Similar as the <code>core.ignorecase</code> option of <a href="https://git-scm.com/docs/git-config">git-config</a>, <code>node-ignore</code> will be case insensitive if <code>options.ignorecase</code> is set to <code>true</code> (default value), otherwise case sensitive.</p>
<pre><code class="language-js">const ig = ignore({
  ignorecase: false
})

ig.add(&#39;*.png&#39;)

ig.ignores(&#39;*.PNG&#39;)  // false
</code></pre>
<hr>
<h1>Upgrade Guide</h1><h2>Upgrade 2.x -&gt; 3.x</h2><ul>
<li>All <code>options</code> of 2.x are unnecessary and removed, so just remove them.</li>
<li><code>ignore()</code> instance is no longer an <a href="nodejs.org/api/events.html"><code>EventEmitter</code></a>, and all events are unnecessary and removed.</li>
<li><code>.addIgnoreFile()</code> is removed, see the <a href="#addignorefilepath">.addIgnoreFile</a> section for details.</li>
</ul>
<h2>Upgrade 3.x -&gt; 4.x</h2><p>Since <code>4.0.0</code>, <code>ignore</code> will no longer support node &lt; 6, to use <code>ignore</code> in node &lt; 6:</p>
<pre><code class="language-js">var ignore = require(&#39;ignore/legacy&#39;)
</code></pre>
<hr>
<h1>Collaborators</h1><ul>
<li><a href="https://github.com/whitecolor">@whitecolor</a> <em>Alex</em></li>
<li><a href="https://github.com/SamyPesse">@SamyPesse</a> <em>Samy Pessé</em></li>
<li><a href="https://github.com/azproduction">@azproduction</a> <em>Mikhail Davydov</em></li>
<li><a href="https://github.com/TrySound">@TrySound</a> <em>Bogdan Chadkin</em></li>
<li><a href="https://github.com/JanMattner">@JanMattner</a> <em>Jan Mattner</em></li>
<li><a href="https://github.com/ntwb">@ntwb</a> <em>Stephen Edgar</em></li>
<li><a href="https://github.com/kasperisager">@kasperisager</a> <em>Kasper Isager</em></li>
<li><a href="https://github.com/sandersn">@sandersn</a> <em>Nathan Shively-Sanders</em></li>
</ul>
</div></div></section></div><div class="column is-one-quarter is-mobile"><section class="section"><div class="content has-text-left"><h1>Quick Links</h1><h2>Recent</h2><ol type="1"><li><a href="/blog/article/long-article">Long article</a><p>Published 2021-06-02, 06:02pm
(UTC/GMT)</p></li><li><a href="/blog/article/folder-sample">Another one but on folder</a><p>Published 2021-05-02, 12:30pm
(UTC/GMT)</p></li><li><a href="/blog/article/another-article">Another Article</a><p>Published 2021-05-02, 12:00am
(UTC/GMT)</p></li><br><a href="/blog/articles">See more..</a></ol></div></section></div></div></div></div></div><footer class="footer"><div class="container"><p>Copyright 2021</p><p>Version 0.1.5</p></div></footer><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous"></script><script type="text/javascript" src="/blog/assets/js/main.js"></script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-53297367-3"></script></body></html>